# PostgreSQL
- MVCC - Multiversion Concurrency Control
- Update - это тяжелая операция, при которой вставляется новая запись и удаляется старая (в случае наличия индекса + происходит вставка в индекс)
- VACUUM - нужен дл очистки пустых кортежей (или провести сборку мусора), удаление и сжатие пустых tuple-ов (пометить отрезки памяти которые можно перезаписать новыми данными)
- VACUUM FULL - полная перезапись и сжатие
- 1 - чистит индекса
- 2 - чистит таблицы

- Индексы - нужны для ускорения поиска в таблице (`select`), после каждой вставки (`insert\update`) индексы перестраиваются
- Для каждой таблицы и индекса выделяется отдельный файл in `pgdata/`
- Таблица состоит из массива страниц (pages, размером страницы в 8 килобайт по умолчанию)
- Heap (куча записей) file - это файл таблицы, список записей (структурирован как набор страниц)
- Таблица по умолчанию до 1 ГБ
- Страница содержит ссылки на строки (CTID)

FSM - free space map
VM - visibility map, хранит бит актуальности на страницу
